<mat-spinner *ngIf="loading"></mat-spinner>

<p *ngIf="error">{{error}}</p>

<div *ngIf="library">

  <h2>{{ library.name }}</h2>

  <p>{{ library.name }}<br>{{ library.address }}</p>

  <app-map [library]="library"></app-map>

  <app-calendar
    [library]="library"
    (dayReservations)="dayReservations=$event"
    (selectedDate)="selectedDate=$event"
  ></app-calendar>

  <app-reservations-box
    *ngIf="!authenticationService.isAdmin(); else adminBox"
    [library]="library"
    [dayReservations]="dayReservations"
    [selectedDate]="selectedDate"
  ></app-reservations-box>

  <ng-template #adminBox>
    <app-admin-reservations-box
      [library]="library"
      [dayReservations]="dayReservations"
      [selectedDate]="selectedDate"
    ></app-admin-reservations-box>

    <button
      mat-raised-button color="warn"
      (click)="deleteLibrary(library.id)"
      [class.spinner]="isDeleting"
      [disabled]="isDeleting"
    >
      Elimina biblioteca
    </button>
  </ng-template>

</div>
